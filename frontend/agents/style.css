/* === CSS 변수 (테마) === */
:root {
  --bg-dark-primary: #1a1a2e; /* 매우 어두운 네이비 (메인 배경) */
  --bg-dark-secondary: #1e1e3f; /* 살짝 밝은 네이비 (카드 배경) */
  --border-color: #3a3a5f; /* 테두리 색상 */
  --text-primary: #f0f0f5; /* 기본 텍스트 */
  --text-secondary: #aab; /* 보조 텍스트 */
  --accent-primary: #00aaff; /* 포인트 색상 (블루) */
  --accent-hover: #0088cc; /* 포인트 호버 */
  --critical-red: #ff4d4d; /* 위협 (Critical) */
  --warning-yellow: #ffaa00; /* 위협 (Warning) */
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    sans-serif;
}

/* === 기본 스타일 === */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html,
body {
  height: 100%;
  font-family: var(--font-family);
  background-color: var(--bg-dark-primary);
  color: var(--text-primary);
  font-size: 16px;
}

/* === 메인 레이아웃 === */
.app-container {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.app-header {
  display: flex;
  align-items: center;
  padding: 0 2rem;
  height: 60px;
  background-color: var(--bg-dark-secondary);
  border-bottom: 1px solid var(--border-color);
  flex-shrink: 0;
}

.logo {
  font-size: 1.5rem;
  font-weight: bold;
  color: var(--accent-primary);
  margin-right: 2rem;
}

/* === 네비게이션 (탭) === */
.main-nav {
  display: flex;
  height: 100%;
}

.nav-link {
  display: flex;
  align-items: center;
  padding: 0 1.5rem;
  font-size: 1rem;
  font-weight: 500;
  color: var(--text-secondary);
  text-decoration: none;
  border-bottom: 3px solid transparent;
  transition: color 0.2s, border-bottom-color 0.2s;
  cursor: pointer;
}

.nav-link:hover {
  color: var(--text-primary);
}

.nav-link.active {
  color: var(--accent-primary);
  border-bottom-color: var(--accent-primary);
}

/* === 메인 컨텐츠 영역 === */
.content-area {
  flex-grow: 1;
  padding: 2rem;
  overflow-y: auto; /* 컨텐츠가 많아지면 스크롤 */
}

.content-page {
  display: none;
}

.content-page.active {
  display: block;
}

/* === 위젯 기본 스타일 === */
.widget {
  background-color: var(--bg-dark-secondary);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
  margin-bottom: 2rem; /* Grid 사용 시 gap으로 대체) */
}

/* Grid 레이아웃 내의 위젯은 margin-bottom 제거 */
.content-page.active[id="agents"] {
  margin-bottom: 0;
}
.content-page.active[id="agents"] .widget {
  margin-bottom: 0;
}

.widget:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 24px rgba(0, 170, 255, 0.1);
}

.widget-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--border-color);
}

/* === 위젯 내부 (레지스트리 로그용) === */
.threat-list {
  list-style: none;
}
.threat-item {
  padding: 0.75rem 0.5rem;
  border-bottom: 1px dashed var(--border-color);
}
.threat-item:last-child {
  border-bottom: none;
}

/* === 2. 에이전트 페이지 (CSS Grid) === */
#agents.active {
  display: grid;
  grid-template-columns: 2fr 3fr; /* 3:1 비율 */
  gap: 2rem;
}

.widget-agent-list {
  grid-column: 1 / 2; /* 좌측 상단 */
  grid-row: 1 / 2;
}

.widget-registry-log {
  grid-column: 2 / 3; /* 우측 */
  grid-row: 1 / 3; /* 우측 열 2칸 차지 */
}

.widget-agent-details {
  grid-column: 1 / 2; /* 좌측 하단 */
  grid-row: 2 / 3;
}

/* 에이전트 리스트 (List View) */
.agent-list-container {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.agent-list-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  border: 1px solid var(--border-color);
  border-radius: 5px;
  background-color: var(--bg-dark-primary);
  cursor: pointer;
  transition: background-color 0.2s;
}

.agent-list-item:hover {
  background-color: #2a2a4f;
}

.agent-list-item strong {
  font-size: 1.1rem;
  color: var(--text-primary);
}

/* 상태 표시 (Active) */
.status-active {
  font-size: 0.9em;
  padding: 0.25rem 0.75rem;
  border-radius: 12px;
  font-weight: 500;
  color: #4dff4d; /* 밝은 녹색 */
  background-color: rgba(77, 255, 77, 0.1);
  border: 1px solid rgba(77, 255, 77, 0.3);
}
